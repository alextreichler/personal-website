{{define "title"}}Media Manager{{end}}

{{define "content"}}
    <h1>Media Manager</h1>
    
    <div style="margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; background: #f9f9f9;">
        <h3>Upload New Image</h3>
        <form action="/admin/media/upload" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
            <input type="file" name="image" required>
            <button type="submit">Upload</button>
        </form>
    </div>

    <h3>Existing Images</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px;">
        {{range .Images}}
        <div style="border: 1px solid #eee; padding: 10px; text-align: center;">
            <img src="/static/uploads/{{.}}" style="max-width: 100%; height: 100px; object-fit: cover; display: block; margin: 0 auto;">
            <div style="margin-top: 10px;">
                <input type="text" value="/static/uploads/{{.}}" readonly onclick="this.select()" style="width: 100%; font-size: 0.8rem;">
            </div>
        </div>
        {{else}}
        <p>No images uploaded yet.</p>
        {{end}}
    </div>
    
    <p style="margin-top: 30px;"><a href="/admin/dashboard">Back to Dashboard</a></p>
{{end}}
