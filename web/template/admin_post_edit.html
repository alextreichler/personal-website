{{define "title"}}Edit Post{{end}}

{{define "content"}}
    <!-- FontAwesome (Required for EasyMDE - Version 4.7.0 is required) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- EasyMDE CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.css">

    <h1>Edit Post</h1>
    <form action="/admin/posts/edit?id={{.Post.ID}}" method="POST">
        <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
        <input type="hidden" name="id" value="{{.Post.ID}}">
        <div>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" value="{{.Post.Title}}" required>
        </div>
        <div>
            <label for="slug">Slug:</label>
            <input type="text" id="slug" name="slug" value="{{.Post.Slug}}">
        </div>
        <div>
            <label for="status">Status:</label>
            <select id="status" name="status">
                <option value="draft" {{if eq .Post.Status "draft"}}selected{{end}}>Draft</option>
                <option value="published" {{if eq .Post.Status "published"}}selected{{end}}>Published</option>
            </select>
        </div>
        <div>
            <label for="content">Content (Markdown):</label>
            <textarea id="content" name="content" rows="10">{{.Post.Content}}</textarea>
        </div>
        <button type="submit">Update</button>
    </form>
    <p><a href="/admin/posts">Cancel</a></p>

    <!-- EasyMDE Script -->
    <script src="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.js"></script>
    <script>
        var easyMDE = new EasyMDE({
            element: document.getElementById('content'),
            spellChecker: false,
        });
    </script>
{{end}}
