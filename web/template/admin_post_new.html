{{define "title"}}New Post{{end}}

{{define "content"}}
    <!-- EasyMDE CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.css">

    <h1>New Post</h1>
    <form action="/admin/posts/new" method="POST">
        <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
        <div>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" required>
        </div>
        <div>
            <label for="slug">Slug (optional, auto-generated if empty):</label>
            <input type="text" id="slug" name="slug">
        </div>
        <div>
            <label for="status">Status:</label>
            <select id="status" name="status">
                <option value="draft">Draft</option>
                <option value="published">Published</option>
            </select>
        </div>
        <div>
            <label for="content">Content (Markdown):</label>
            <textarea id="content" name="content" rows="10"></textarea>
        </div>
        <button type="submit">Publish</button>
    </form>
    <p><a href="/admin/posts">Cancel</a></p>

    <!-- EasyMDE Script -->
    <script src="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.js"></script>
    <script>
        var easyMDE = new EasyMDE({
            element: document.getElementById('content'),
            spellChecker: false,
            autosave: {
                enabled: true,
                uniqueId: "new_post_content",
                delay: 1000,
            },
        });
    </script>
{{end}}
